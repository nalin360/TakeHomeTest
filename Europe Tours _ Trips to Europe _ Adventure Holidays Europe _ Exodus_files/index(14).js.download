(()=>{"use strict";const{exodus:e}=window,{customElements:t,HTMLElement:i,GLightbox:l,Glide:s}=window;t.define("ex-gallery-carousel",class extends i{constructor(){super(),this.windowResized=!1,this.slides=this.querySelectorAll(".glide__slide"),this.imageElements=this.querySelectorAll(".gallery-carousel__link"),this.initializeCarousel(),this.initializeLightBox(),this.ownerDocument.defaultView.addEventListener("resize",function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];clearTimeout(t),t=setTimeout((()=>{e.apply(void 0,s)}),i)}}((e=>this.addWindowResizedAttribute(e))))}static get observedAttributes(){return["is-tab-active","window-size"]}attributeChangedCallback(e,t,i){"is-tab-active"!==e||"true"!==i||t===i&&this.windowWidthOldValue===this.windowWidthNewValue||(this.glideCarousel&&this.glideCarousel.destroy(),this.initializeCarousel(),this.windowWidthOldValue=this.windowWidthNewValue),"window-size"===e&&t!==i&&(this.windowWidthOldValue=t,this.windowWidthNewValue=i)}addWindowResizedAttribute(e){this.setAttribute("window-size",e.target.innerWidth),this.handleControllerVisibility()}initializeCarousel(){this.glideCarousel=new s(this,{type:"slider",perView:5,gap:30,startAt:0,animationDuration:600,breakpoints:{1280:{perView:5,gap:15},1024:{perView:4,gap:15},768:{perView:3,gap:15},576:{perView:2,gap:15,peek:{before:78,after:78}},400:{perView:1,gap:15,peek:{before:92,after:92}}}}),this.glideCarousel.mount({GalleryCarousel:this.galleryCarousel}),this.handleControllerVisibility()}galleryCarousel(e,t){return{mount(){e.on(["mount.after","run"],(()=>{for(const i of t.Controls.items){if("glide__arrows"!==i.className)continue;const l=i.querySelector(".glide__arrow--left");l&&(0===e.index?l.setAttribute("disabled",""):l.removeAttribute("disabled"));const s=i.querySelector(".glide__arrow--right");s&&(e.index===t.Sizes.length-e.settings.perView?s.setAttribute("disabled",""):s.removeAttribute("disabled"))}}))}}}initializeLightBox(){if(!this.imageElements.length)return null;const e=[],t=document.createElement("div");t.classList.add("gcounter"),t.innerText="";this.imageElements.forEach(((t,i)=>{var l;e.push({href:null!==(l=null==t?void 0:t.href)&&void 0!==l?l:"",type:"image"}),t.addEventListener("click",(e=>{if(!this.lightbox)return null;e.preventDefault(),this.lightbox.openAt(i),this.lightbox.sourceElement=t}))})),this.lightbox=l({elements:e,lightboxHTML:'<div id="glightbox-body" class="glightbox-container">\n\t\t\t<div class="gloader visible"></div>\n\t\t\t<div class="goverlay"></div>\n\t\t\t<div class="gcontainer">\n\t\t\t<div id="glightbox-slider" class="gslider"></div>\n\t\t\t<button class="gnext gbtn" tabindex="0" aria-label="Next">{nextSVG}</button>\n\t\t\t<button class="gprev gbtn" tabindex="1" aria-label="Previous">{prevSVG}</button>\n\t\t\t<button class="gclose gbtn" tabindex="2" aria-label="Close">{closeSVG}</button>\n\t\t</div>\n\t\t</div>',touchNavigation:!0,loop:!1,openEffect:"fade",closeEffect:"fade",skin:"gallery-carousel",onClose(){t.innerText=""},afterSlideChange(e,i){t.innerText="".concat(i.index+1," / ").concat(this.elements.length),t.classList.add("gcounter-added")}}),this.lightbox.on("open",(()=>{var e,i;this.lightbox.slidesContainer.after(t),null===(e=this.lightbox.modal)||void 0===e||null===(e=e.querySelector(".gclose.gbtn"))||void 0===e||e.addEventListener("click",(()=>t.innerText="")),null===(i=this.lightbox.slidesContainer)||void 0===i||i.addEventListener("click",(()=>t.innerText=""))}))}openLightbox(){this.lightbox&&this.lightbox.openAt(0)}handleControllerVisibility(){var e,t;(null===(e=this.glideCarousel)||void 0===e||null===(e=e.settings)||void 0===e?void 0:e.perView)>(null===(t=this.slides)||void 0===t?void 0:t.length)?this.classList.add("hide-controllers"):this.classList.remove("hide-controllers")}})})();