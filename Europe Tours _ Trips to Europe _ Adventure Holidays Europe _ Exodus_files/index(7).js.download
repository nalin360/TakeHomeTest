(()=>{"use strict";var e={5234:()=>{const{customElements:e,HTMLElement:t}=window,{stores:i}=window.zustand;e.define("ex-header-dropdown",class extends t{constructor(){super(),this.isTripSearchPage=this.getAttribute("is-trip-search-page"),this.isTripSearchPage=this.isTripSearchPage&&"1"===this.isTripSearchPage;const e=this.querySelector("button");this.localeButtons=this.querySelectorAll(".header-dropdown__children button"),e.addEventListener("click",this.toggleCountriesDropdown.bind(this)),this.ownerDocument.defaultView.addEventListener("click",(e=>this.handleModalCloseOnClick(e))),this.ownerDocument.defaultView.addEventListener("keydown",(e=>this.handleModalCloseOnKeyDown(e))),this.isTripSearchPage&&this.ownerDocument.defaultView.addEventListener("DOMContentLoaded",(()=>{i.ex_data_trip_search.subscribe(this.update.bind(this))})),0!==this.localeButtons.length&&this.localeButtons.forEach((e=>e.addEventListener("click",(e=>this.handleLocaleClick(e)))))}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isTripSearchPage)return;const{url:t}=e;t&&this.appendSearchFiltersToLocaleUrls(t)}appendSearchFiltersToLocaleUrls(e){if(!e||!this.localeButtons.length)return;const t=new URL(e).search;t&&this.localeButtons.forEach((e=>{if(this.dataURL=e.getAttribute("data-url"),!this.dataURL)return null;this.dataURL=new URL(this.dataURL),this.dataURL=this.dataURL.toString().replace(this.dataURL.search,""),this.dataURL=this.dataURL+t,e.setAttribute("data-url",this.dataURL)}))}handleModalCloseOnClick(e){e.target.closest(".header-dropdown")||this.closeModal()}handleModalCloseOnKeyDown(e){"Escape"===e.key&&(e.preventDefault(),this.closeModal())}handleLocaleClick(e){const t=e.currentTarget.getAttribute("data-url");t&&(window.location.href=t)}closeModal(){this.parentNode.removeAttribute("active")}toggleCountriesDropdown(){this.parentNode.toggleAttribute("active")}})},7557:()=>{const{exodus:e}=window,t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.style.height="".concat(e.scrollHeight,"px"),setTimeout((()=>{e.style.height="auto",i&&i()}),t)},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.style.height="".concat(e.scrollHeight,"px"),e.offsetHeight,e.style.height="0px",setTimeout((()=>{e.style.height=null,i&&i()}),t)},{customElements:s,HTMLElement:n}=window,{stores:r}=window.zustand;s.define("ex-header-hamburger",class extends n{constructor(){super(),this.addEventListener("click",this.hamburgerClicked.bind(this)),this.searchBtn=document.querySelector("ex-header-search-button")}hamburgerClicked(){var e;this.toggleAttribute("active"),this.parentNode.querySelector("nav").toggleAttribute("active"),null===(e=this.searchBtn)||void 0===e||e.closeModal()}hamburgerClose(){this.removeAttribute("active"),this.parentNode.querySelector("nav").removeAttribute("active")}}),s.define("ex-header-search-button",class extends n{constructor(){super(),this.modal=this.querySelector(".header-main__search-button-container"),this.searchBtn=this.querySelector(".header-main__search-button-cta"),this.closeBtn=this.querySelector(".trip-search-form__search-button-close"),this.hamburgerMenu=document.querySelector("ex-header-hamburger"),this.searchBtn.addEventListener("click",this.handleSearchBtnClick.bind(this)),this.closeBtn.addEventListener("click",this.closeModal.bind(this)),this.ownerDocument.addEventListener("keydown",(e=>{"Escape"===e.key&&this.closeModal()}))}handleSearchBtnClick(){var e;this.modal.hasAttribute("active")||(null===(e=this.hamburgerMenu)||void 0===e||e.hamburgerClose());this.modal.toggleAttribute("active"),this.searchBtn.toggleAttribute("active")}closeModal(){this.modal.removeAttribute("active"),this.searchBtn.removeAttribute("active")}}),s.define("ex-header-nav-menu",class extends n{constructor(){super(),this.desktopBreakpoint=1280,this.allLevelOneMenuItems=this.querySelectorAll(".header-main__lvl-one > li"),this.allLevelTwoMenuItems=this.querySelectorAll(".header-main__lvl-two > li"),this.allLevelThreeMenuAnchor=this.querySelectorAll(".header-main__lvl-three .menu-link"),this.subMenuArrows=this.querySelectorAll(".menu-item-has-children > .sub-menu-arrow"),this.allLevelOneMenuItems.forEach((e=>{e.addEventListener("click",this.levelOneMenuItemClick.bind(this))})),this.allLevelTwoMenuItems.forEach((e=>{e.addEventListener("click",this.levelTwoMenuItemClick.bind(this))})),this.allLevelThreeMenuAnchor.forEach((e=>{e.addEventListener("click",this.levelThreeMenuAnchorClick)})),this.subMenuArrows.forEach((e=>{e.addEventListener("click",this.toggleChildMenus.bind(this))})),this.ownerDocument.defaultView.addEventListener("click",this.handleMenuClose.bind(this))}handleMenuClickInMobile(e){var i;e&&(e.hasAttribute("active")||!e.classList.contains("menu-item-has-children")?window.location=null===(i=e.querySelector(".menu-link"))||void 0===i?void 0:i.href:(t(e.querySelector(".sub-menu"),600),e.toggleAttribute("active")))}levelOneMenuItemClick(e){if(!e||!e.currentTarget)return;const{currentTarget:t}=e;if(window.innerWidth<this.desktopBreakpoint)this.handleMenuClickInMobile(t);else{if(!t.classList.contains("menu-item-has-children")||t.classList.contains("active"))return void(window.location=t.querySelector(".menu-link").href);this.allLevelOneMenuItems.forEach((e=>e.classList.remove("active")));var i;if(!t.querySelector(".active"))null===(i=t.querySelector("li"))||void 0===i||i.classList.add("active");t.classList.add("active")}e.preventDefault(),e.stopPropagation()}levelTwoMenuItemClick(e){if(!e||!e.currentTarget)return;const{currentTarget:t}=e;if(window.innerWidth<this.desktopBreakpoint)this.handleMenuClickInMobile(t);else{if(!t.classList.contains("menu-item-has-children")||t.classList.contains("active"))return void(window.location=t.querySelector(".menu-link").href);this.querySelectorAll(".header-main__lvl-two > li.active").forEach((e=>{e.classList.remove("active")})),t.classList.add("active")}e.preventDefault(),e.stopPropagation()}levelThreeMenuAnchorClick(e){e.stopPropagation()}handleMenuClose(){this.allLevelOneMenuItems.forEach((e=>e.classList.remove("active")))}toggleChildMenus(e){const{target:s}=e;window.innerWidth<this.desktopBreakpoint&&(s.parentNode.toggleAttribute("active"),s.parentNode.hasAttribute("active")?t(s.parentNode.querySelector(".sub-menu"),600):i(s.parentNode.querySelector(".sub-menu"),600)),e.stopPropagation()}}),s.define("ex-header",class extends n{constructor(){super(),this.ownerDocument.defaultView.addEventListener("DOMContentLoaded",(()=>{r.ex_data_locale_switcher.subscribe(this.update.bind(this))}))}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{headerTopPosition:t}=e;null!==t&&(this.style.top=t)}})}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}i(5234),i(7557)})();